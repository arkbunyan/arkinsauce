<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Skip existing files and directories
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]
    
    # Rewrite /api/auth/check to /api/auth/check.php
    RewriteRule ^auth/check$ auth/check.php [L]
    
    # Rewrite /api/auth/login to /api/auth/login.php
    RewriteRule ^auth/login$ auth/login.php [L]
    
    # Rewrite /api/auth/register to /api/auth/register.php
    RewriteRule ^auth/register$ auth/register.php [L]
    
    # Rewrite /api/auth/logout to /api/auth/logout.php
    RewriteRule ^auth/logout$ auth/logout.php [L]
    
    # Rewrite /api/game/streak to /api/game/streak.php
    RewriteRule ^game/streak$ game/streak.php [L]
</IfModule>

# Set proper headers for API responses
<FilesMatch "\.php$">
    Header set X-Content-Type-Options "nosniff"
    Header set X-Frame-Options "DENY"
    Header set X-XSS-Protection "1; mode=block"
</FilesMatch>
